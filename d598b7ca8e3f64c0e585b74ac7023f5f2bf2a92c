{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4b71f041_4b2d34f8",
        "filename": "client_common/protocol.c",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2022-06-13T14:06:19Z",
      "side": 1,
      "message": "nit: I know you don\u0027t check allocation errors since they won\u0027t happen on linux but since you checked the allocation line 55 and the append, I think we should be consistent. Either check all of them or none. Unless json_integer does not imply an allocation but I didn\u0027t find anything on the documentation.",
      "range": {
        "startLine": 63,
        "startChar": 8,
        "endLine": 63,
        "endChar": 20
      },
      "revId": "d598b7ca8e3f64c0e585b74ac7023f5f2bf2a92c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "917a0294_94532aa8",
        "filename": "copytool/scheduler.c",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2022-06-13T14:06:19Z",
      "side": 1,
      "message": "nit: given the implementation when receiving EHLO, I think that if an empty list is given, the resulting list will be of size one.",
      "range": {
        "startLine": 77,
        "startChar": 15,
        "endLine": 77,
        "endChar": 25
      },
      "revId": "d598b7ca8e3f64c0e585b74ac7023f5f2bf2a92c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a4446ca_cc95a9f0",
        "filename": "copytool/scheduler.c",
        "patchSetId": 2
      },
      "lineNbr": 160,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2022-06-13T14:06:19Z",
      "side": 1,
      "message": "question: shouldn\u0027t it be archive_id !\u003d 0 here? Otherwise, you never check the archive_id.\n\nAlso, where does this archive_id comes from? Is it the one sent by Lustre\u0027s Coordinator? If so, I don\u0027t think it can be 0. It will always be \u003e 0 since it\u0027s either the filesystem default (which is 1 by default I think) or the value specified by the user.",
      "range": {
        "startLine": 160,
        "startChar": 7,
        "endLine": 160,
        "endChar": 17
      },
      "revId": "d598b7ca8e3f64c0e585b74ac7023f5f2bf2a92c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc45ab11_4c897612",
        "filename": "tests/run_tests.sh",
        "patchSetId": 2
      },
      "lineNbr": 463,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2022-06-13T14:06:19Z",
      "side": 1,
      "message": "typo: exponential",
      "range": {
        "startLine": 463,
        "startChar": 35,
        "endLine": 463,
        "endChar": 45
      },
      "revId": "d598b7ca8e3f64c0e585b74ac7023f5f2bf2a92c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c920c7e1_2212a01b",
        "filename": "tests/run_tests.sh",
        "patchSetId": 2
      },
      "lineNbr": 464,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2022-06-13T14:06:19Z",
      "side": 1,
      "message": "This wouldn\u0027t be enough I think. Because the client could have finished the ehlo step but didn\u0027t have enough time to ask for/receive work yet. I think you don\u0027t have the choice even if you wait for ehlo you still have to wait a bit before you can be sure that no client has received any work. This would probably be less than 4s though, so it\u0027s a better solution.\n\nNow that I think about it, maybe the best solution is to wait for a RECV from the copytool on the coordinatool and wait just a bit to see that the coordinatool puts the client in the waiting queue. This would probably imply a much shorter sleep duration that with ehlo?",
      "range": {
        "startLine": 464,
        "startChar": 23,
        "endLine": 464,
        "endChar": 39
      },
      "revId": "d598b7ca8e3f64c0e585b74ac7023f5f2bf2a92c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}